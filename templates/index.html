{% extends 'base.html' %}
{% block content %}
<div class="gatya row">
    <div class="col">
        <canvas id="canvas" width="400" height="500" class="my-5 border border-dark bg-accent"></canvas>
    </div>
    <div class="setting col">
        <div class="row">
            <input type="submit" class="btn bg-dark text-white col m-2" value="ガチャに追加する" onclick="add_gatya()">
            <input type="submit" class="btn bg-danger text-white col m-2" value="すべて削除する" onclick="all_remove()">
        </div>
        <form method="post" name="gatya-form" id="gatya-form">
            <div class="input-group mb-3 pt-3">
                <input type="text" name="gatya-content" id="gatya-content" class="form-control">
                <input type="submit" id="submit-btn" class="btn bg-dark text-white" value="カプセルを追加">
            </div>
            <div class="row">
                <table class="table col">
                    <thead>
                        <th>No</th>
                        <th>名前</th>
                        <th>確率<span class="probability-total"></span></th>
                    </thead>
                    <tbody id="gatya-table">

                    </tbody>
                </table>
            </div>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
                disabled>
                結果を見る
            </button>
            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">ガチャ結果</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <ul class="text" style="list-style: none; margin: 0; padding: 0;"></ul>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="/static/js/gacha.js"></script>
{% endblock %}